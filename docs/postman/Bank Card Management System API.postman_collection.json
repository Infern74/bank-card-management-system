{
	"info": {
		"_postman_id": "b45357a3-110b-473b-a907-e8c5eeb2f4d9",
		"name": "Bank Card Management System API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "42764075"
	},
	"item": [
		{
			"name": "üîê 1. Authentication",
			"item": [
				{
					"name": "1.1 Login Admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response has JWT token\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.token).to.not.be.empty;",
									"    pm.expect(jsonData.type).to.eql(\"Bearer\");",
									"    pm.expect(jsonData.roles).to.include(\"ROLE_ADMIN\");",
									"    pm.collectionVariables.set(\"adminToken\", jsonData.token);",
									"    pm.collectionVariables.set(\"adminId\", jsonData.id);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"username\": \"admin\",\n  \"password\": \"admin123\"\n}"
						},
						"url": {
							"raw": "{{baseURL}}/auth/login",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "1.2 Login User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response has JWT token\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.token).to.not.be.empty;",
									"    pm.expect(jsonData.type).to.eql(\"Bearer\");",
									"    pm.expect(jsonData.roles).to.include(\"ROLE_USER\");",
									"    pm.collectionVariables.set(\"userToken\", jsonData.token);",
									"    pm.collectionVariables.set(\"userId\", jsonData.id);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"username\": \"user1\",\n  \"password\": \"user123\"\n}"
						},
						"url": {
							"raw": "{{baseURL}}/auth/login",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "1.3 Register New User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"username\": \"newuser\",\n  \"password\": \"newuser123\",\n  \"email\": \"newuser@bank.com\",\n  \"fullName\": \"–ù–æ–≤—ã–π –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å\"\n}"
						},
						"url": {
							"raw": "{{baseURL}}/auth/register",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"auth",
								"register"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üëë 2. Admin Operations",
			"item": [
				{
					"name": "2.1 Get All Users (Admin)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response has paginated users\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.content).to.be.an('array');",
									"    pm.expect(jsonData.totalElements).to.be.at.least(2);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/admin/users?page=0&size=10",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"admin",
								"users"
							],
							"query": [
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "2.2 Create Card for User (Admin)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Card created successfully\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.id).to.not.be.undefined;",
									"    pm.expect(jsonData.maskedCardNumber).to.match(/\\*\\*\\*\\* \\*\\*\\*\\* \\*\\*\\*\\* \\d{4}/);",
									"    pm.expect(jsonData.status).to.eql(\"ACTIVE\");",
									"    pm.collectionVariables.set(\"cardId1\", jsonData.id);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"cardNumber\": \"4111111111111111\",\n  \"cardHolderName\": \"–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤\",\n  \"expirationDate\": \"2026-12-31\",\n  \"cvv\": \"123\",\n  \"ownerId\": {{userId}},\n  \"initialBalance\": 1000.00\n}"
						},
						"url": {
							"raw": "{{baseURL}}/cards",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"cards"
							]
						}
					},
					"response": []
				},
				{
					"name": "2.3 Create Second Card for User (Admin)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"var jsonData = pm.response.json();",
									"pm.collectionVariables.set(\"cardId2\", jsonData.id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"cardNumber\": \"4222222222222222\",\n  \"cardHolderName\": \"–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤\",\n  \"expirationDate\": \"2026-12-31\",\n  \"cvv\": \"456\",\n  \"ownerId\": {{userId}},\n  \"initialBalance\": 500.00\n}"
						},
						"url": {
							"raw": "{{baseURL}}/cards",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"cards"
							]
						}
					},
					"response": []
				},
				{
					"name": "2.4 Get All Cards (Admin)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Admin can see all cards\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.content).to.be.an('array');",
									"    pm.expect(jsonData.totalElements).to.be.at.least(2);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/cards?page=0&size=10",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"cards"
							],
							"query": [
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "2.5 Block User (Admin)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/admin/users/{{userId}}/block",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"admin",
								"users",
								"{{userId}}",
								"block"
							]
						}
					},
					"response": []
				},
				{
					"name": "2.6 Activate User (Admin)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/admin/users/{{userId}}/activate",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"admin",
								"users",
								"{{userId}}",
								"activate"
							]
						}
					},
					"response": []
				},
				{
					"name": "2.7 Block Card Directly (Admin)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Card is blocked\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.status).to.eql(\"BLOCKED\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/cards/{{cardId1}}/block",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"cards",
								"{{cardId1}}",
								"block"
							]
						}
					},
					"response": []
				},
				{
					"name": "2.8 Activate Card (Admin)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Card is activated\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.status).to.eql(\"ACTIVE\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/cards/{{cardId1}}/activate",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"cards",
								"{{cardId1}}",
								"activate"
							]
						}
					},
					"response": []
				},
				{
					"name": "2.9 Get All Block Requests (Admin)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/card-block-requests?page=0&size=10",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"card-block-requests"
							],
							"query": [
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "10"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üë§ 3. User Operations",
			"item": [
				{
					"name": "3.1 Get User Cards",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"User can see their cards\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.content).to.be.an('array');",
									"    jsonData.content.forEach(function(card) {",
									"        pm.expect(card.maskedCardNumber).to.match(/\\*\\*\\*\\* \\*\\*\\*\\* \\*\\*\\*\\* \\d{4}/);",
									"    });",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/cards/my?page=0&size=10",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"cards",
								"my"
							],
							"query": [
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "3.2 Get Card Balance",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Balance is returned\", function () {",
									"    var balance = parseFloat(pm.response.text());",
									"    pm.expect(balance).to.be.a('number');",
									"    pm.expect(balance).to.be.at.least(0);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/cards/{{cardId1}}/balance",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"cards",
								"{{cardId1}}",
								"balance"
							]
						}
					},
					"response": []
				},
				{
					"name": "3.3 Search User Cards",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/cards/my/search?query=1111&page=0&size=10",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"cards",
								"my",
								"search"
							],
							"query": [
								{
									"key": "query",
									"value": "1111"
								},
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "3.4 Filter Cards by Status",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/cards/my/filter?status=ACTIVE&page=0&size=10",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"cards",
								"my",
								"filter"
							],
							"query": [
								{
									"key": "status",
									"value": "ACTIVE"
								},
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "3.5 Create Block Request",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Block request created\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.id).to.not.be.undefined;",
									"    pm.expect(jsonData.status).to.eql(\"PENDING\");",
									"    pm.expect(jsonData.reason).to.eql(\"–ü–æ—Ç–µ—Ä—è–ª –∫–∞—Ä—Ç—É\");",
									"    pm.collectionVariables.set(\"blockRequestId\", jsonData.id);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"cardId\": {{cardId1}},\n  \"reason\": \"–ü–æ—Ç–µ—Ä—è–ª –∫–∞—Ä—Ç—É\"\n}"
						},
						"url": {
							"raw": "{{baseURL}}/card-block-requests",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"card-block-requests"
							]
						}
					},
					"response": []
				},
				{
					"name": "3.6 Get My Block Requests",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/card-block-requests/my?page=0&size=10",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"card-block-requests",
								"my"
							],
							"query": [
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "3.7 Cancel Block Request",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Block request cancelled\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.status).to.eql(\"CANCELLED\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/card-block-requests/{{blockRequestId}}/cancel",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"card-block-requests",
								"{{blockRequestId}}",
								"cancel"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üí∏ 4. Transfer Operations",
			"item": [
				{
					"name": "4.1 Create Transfer Between Own Cards",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Transfer created successfully\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.id).to.not.be.undefined;",
									"    pm.expect(jsonData.amount).to.eql(100);",
									"    pm.expect(jsonData.status).to.eql(\"COMPLETED\");",
									"    pm.expect(jsonData.fromCardMasked).to.match(/\\*\\*\\*\\* \\*\\*\\*\\* \\*\\*\\*\\* \\d{4}/);",
									"    pm.expect(jsonData.toCardMasked).to.match(/\\*\\*\\*\\* \\*\\*\\*\\* \\*\\*\\*\\* \\d{4}/);",
									"    pm.collectionVariables.set(\"transferId\", jsonData.id);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fromCardNumber\": \"4111111111111111\",\n  \"toCardNumber\": \"4222222222222222\",\n  \"amount\": 100.00,\n  \"description\": \"–¢–µ—Å—Ç–æ–≤—ã–π –ø–µ—Ä–µ–≤–æ–¥ –º–µ–∂–¥—É –∫–∞—Ä—Ç–∞–º–∏\"\n}"
						},
						"url": {
							"raw": "{{baseURL}}/transfers",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"transfers"
							]
						}
					},
					"response": []
				},
				{
					"name": "4.2 Get User Transfers",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"User can see their transfers\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.content).to.be.an('array');",
									"    pm.expect(jsonData.totalElements).to.be.at.least(1);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/transfers/my?page=0&size=10",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"transfers",
								"my"
							],
							"query": [
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "4.3 Get Transfer by ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/transfers/{{transferId}}",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"transfers",
								"{{transferId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "4.4 Cancel Transfer",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/transfers/{{transferId}}/cancel",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"transfers",
								"{{transferId}}",
								"cancel"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "‚ö†Ô∏è 5. Error Cases & Negative Tests",
			"item": [
				{
					"name": "5.1 Invalid Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 401\", function () {",
									"    pm.response.to.have.status(401);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"username\": \"wronguser\",\n  \"password\": \"wrongpass\"\n}"
						},
						"url": {
							"raw": "{{baseURL}}/auth/login",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "5.2 Access Denied - User tries admin endpoint",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 403\", function () {",
									"    pm.response.to.have.status(403);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/admin/users",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"admin",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "5.3 Invalid Card Creation - Wrong CVV",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"cardNumber\": \"5555555555555555\",\n  \"cardHolderName\": \"Test User\",\n  \"expirationDate\": \"2026-12-31\",\n  \"cvv\": \"12\",\n  \"ownerId\": {{userId}},\n  \"initialBalance\": 100.00\n}"
						},
						"url": {
							"raw": "{{baseURL}}/cards",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"cards"
							]
						}
					},
					"response": []
				},
				{
					"name": "5.4 Transfer with Insufficient Funds",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fromCardNumber\": \"4111111111111111\",\n  \"toCardNumber\": \"4222222222222222\",\n  \"amount\": 1000000.00,\n  \"description\": \"–°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π –ø–µ—Ä–µ–≤–æ–¥\"\n}"
						},
						"url": {
							"raw": "{{baseURL}}/transfers",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"transfers"
							]
						}
					},
					"response": []
				},
				{
					"name": "5.5 Transfer to Same Card",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fromCardNumber\": \"4111111111111111\",\n  \"toCardNumber\": \"4111111111111111\",\n  \"amount\": 10.00,\n  \"description\": \"–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ —Ç—É –∂–µ –∫–∞—Ä—Ç—É\"\n}"
						},
						"url": {
							"raw": "{{baseURL}}/transfers",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"transfers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Access to a non-existent card",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 404\", function () {",
									"    pm.response.to.have.status(404);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/cards/999999/balance",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"cards",
								"999999",
								"balance"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üîÑ 6. Admin Block Request Management",
			"item": [
				{
					"name": "6.1 Create Another Block Request (User)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"var jsonData = pm.response.json();",
									"pm.collectionVariables.set(\"blockRequestId\", jsonData.id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"cardId\": {{cardId1}},\n  \"reason\": \"–ö–∞—Ä—Ç–∞ —É–∫—Ä–∞–¥–µ–Ω–∞\"\n}"
						},
						"url": {
							"raw": "{{baseURL}}/card-block-requests",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"card-block-requests"
							]
						}
					},
					"response": []
				},
				{
					"name": "6.2 Approve Block Request (Admin)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Block request approved\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.status).to.eql(\"APPROVED\");",
									"    pm.expect(jsonData.adminComment).to.eql(\"–û–¥–æ–±—Ä–µ–Ω–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/card-block-requests/{{blockRequestId}}/approve?adminComment=–û–¥–æ–±—Ä–µ–Ω–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"card-block-requests",
								"{{blockRequestId}}",
								"approve"
							],
							"query": [
								{
									"key": "adminComment",
									"value": "–û–¥–æ–±—Ä–µ–Ω–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "6.3 Get Block Requests by Status (Admin)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/card-block-requests/status/APPROVED?page=0&size=10",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"card-block-requests",
								"status",
								"APPROVED"
							],
							"query": [
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "10"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üí° 0. Health Check",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{baseURL}}/health",
					"host": [
						"{{baseURL}}"
					],
					"path": [
						"health"
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseURL",
			"value": "http://localhost:8080"
		}
	]
}